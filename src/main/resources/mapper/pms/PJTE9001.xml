<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.iteyes.mapper.pms.PJTE9001Mapper">
    <select id="select_9001_01" parameterType="Map" resultType="com.iteyes.dto.pms.PJTE9001DTO">
     <![CDATA[
      SELECT PRJT_ID                 /*프로젝트*/
           , BZCD                    /*업무구분*/
           , EMPNO                   /*직원번호*/
           , EMPNM                   /*직원명*/
           , RANK_NM                 /*직급명*/
           , CATN_DCD                /*구성원구분*/
           , EMAIL_ADDR              /*이메일주소*/
           , CPNO                    /*휴대폰번호*/
           , LGN_PWD                 /*로그인비밀번호*/
           , AUT_CD                  /*권한ID*/
           , IP_ADDR                 /*IP주소*/
           , PLAN_THW_STDT           /*예정투입시작일자*/
           , PLAN_THW_ENDT           /*예정투입종료일자*/
           , REAL_THW_STDT           /*실제투입시작일자*/
           , REAL_THW_ENDT           /*실제투입종료일자*/
      FROM pms_emp_info
      ]]>
        WHERE 1=1
        /*프로젝트구분*/
        <if test='prjt_id != "" and prjt_id != null and prjt_id != "999"'>
            AND PRJT_ID = #{prjt_id}
        </if>
        /*업무구분*/
        <if test='bzcd != "" and bzcd != null and bzcd != "999"'>
            AND BZCD = #{bzcd}
        </if>
        /*직원번호*/
        <if test='empno != "" and empno != null'>
            AND EMPNO LIKE CONCAT('%', #{empno}, '%')
        </if>
        /*직원명*/
        <if test='empnm != "" and empnm != null'>
            AND EMPNM LIKE CONCAT('%', #{empnm}, '%')
        </if>
    </select>
</mapper>
